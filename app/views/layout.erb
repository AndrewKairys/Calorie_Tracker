<!DOCTYPE html>
<!--[if lt IE 7]> <html class="no-js ie6 oldie" lang="en"> <![endif]-->
<!--[if IE 7]> <html class="no-js ie7 oldie" lang="en"> <![endif]-->
<!--[if IE 8]> <html class="no-js ie8 oldie" lang="en"> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="en">
  <!--<![endif]-->
  <head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1"/>

    <title>Calorie-Tracker</title>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">

  <style>

      body {
        background-color: lightgreen;
        color: #333;
        font-family: "Helvetica";
        line-height: 18px;
      }

      .wrapper {
        background: #fff;
        -moz-box-shadow: 0 0 10px rgba(0,0,0,.3);
        -webkit-box-shadow: 0 0 10px rgba(0,0,0,.3);
        box-shadow: 0 0 10px rgba(0,0,0,.3);
        margin: 16px auto;
        max-width: 960px;
        padding: 2.25%; /* 18px / 800px */
        width: 85%;
      }

      p {
        color: #333
        display: block;
        margin-top: 1em;
        margin-bottom: 1em;
        margin-left: 0;
        margin-right: 0;
      }

      ul {
        list-style-type: none;
        margin: 0;
        padding: 0;
        overflow: hidden;
        background-color: #333;
      }

      li {
        float: left;
      }

      li a {
        display: block;
        color: white;
        text-align: center;
        padding: 7px 14px;
        text-decoration: none;
      }

      li p {
        display: block;
        color: white;
        text-align: center;
        padding: 7px 14px;
        text-decoration: none;
      }

      a:hover:not(.active) {
        background-color: #111;
      }

      .active {
        background-color: #4CAF50;
      }

      ::-webkit-input-placeholder { /* Chrome/Opera/Safari */
          color: black;
      }
      ::-moz-placeholder { /* Firefox 19+ */
          color: black;
      }
      :-ms-input-placeholder { /* IE 10+ */
          color: black;
      }
      :-moz-placeholder { /* Firefox 18- */
          color: black;
      }
      input, textarea, select, button {
          width : 150px;
          margin: 0;

          -webkit-box-sizing: border-box; /* For legacy WebKit based browsers */
          -moz-box-sizing: border-box; /* For legacy (Firefox <29) Gecko based browsers */
          box-sizing: border-box;
      }
  </style>
  </head>
  <body>

    <!--Nav Bar-->
    <ul>
      <% if logged_in? %>
        <li>
          <a href="/">
            <% calories_left = (@current_user.daily_calories) - (@current_user.meals.pluck(:calories).sum) %>
            <%= @current_user.username %>, you have <%= calories_left %>kcal left for today
          </a>
        </li>
      <% end %>

          <li>
            <a href="/">
              Home
            </a>
          </li>

          <% if logged_in? %>
          <li>
            <a href="/meals">
              Meals
            </a>
          </li>
            <li>
              <a href="/meals/create_meal">
                Create Meal
              </a>
            </li>
            <li>
              <a href="/logout">
                Log Out
              </a>
            </li>
          <% else %>
            <li>
              <a href="/signup">Sign Up</a>
            </li>
            <li>
              <a href="/login">
                Log In
              </a>
            </li>
          <% end %>
        </ul>

        <!--Actual Body-->
        <div class="wrapper">

          <%= yield %>

        </div>

        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
        <!--[if lt IE 7]> <script src="//ajax.googleapis.com/ajax/libs/chrome-frame/1.0.2/CFInstall.min.js"></script> <script>window.attachEvent("onload",function(){CFInstall.check({mode:"overlay"})})</script> <![endif]-->
      </body>
